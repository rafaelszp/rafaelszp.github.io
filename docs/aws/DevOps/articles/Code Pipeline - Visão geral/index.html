<!doctype html>
<html lang="pt-BR" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-aws/DevOps/articles/Code Pipeline - Visão geral" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">Code Pipeline - Visão geral | Rafael&#x27; Case studies</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://rafaelszp.github.io/img/rafaelszp.jpg"><meta data-rh="true" name="twitter:image" content="https://rafaelszp.github.io/img/rafaelszp.jpg"><meta data-rh="true" property="og:url" content="https://rafaelszp.github.io/docs/aws/DevOps/articles/Code Pipeline - Visão geral"><meta data-rh="true" property="og:locale" content="pt_BR"><meta data-rh="true" name="docusaurus_locale" content="pt-BR"><meta data-rh="true" name="docsearch:language" content="pt-BR"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Code Pipeline - Visão geral | Rafael&#x27; Case studies"><meta data-rh="true" name="description" content="Created17"><meta data-rh="true" property="og:description" content="Created17"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://rafaelszp.github.io/docs/aws/DevOps/articles/Code Pipeline - Visão geral"><link data-rh="true" rel="alternate" href="https://rafaelszp.github.io/docs/aws/DevOps/articles/Code Pipeline - Visão geral" hreflang="pt-BR"><link data-rh="true" rel="alternate" href="https://rafaelszp.github.io/docs/aws/DevOps/articles/Code Pipeline - Visão geral" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BVVE68SDSY-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Rafael&#39; Case studies RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Rafael&#39; Case studies Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Rafael&#39; Case studies" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.cda026f6.css">
<script src="/assets/js/runtime~main.d4846a4c.js" defer="defer"></script>
<script src="/assets/js/main.0c69b1b7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Pular para o conteúdo principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Pular para o conteúdo principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Alternar a barra de navegação" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/rafaelszp.jpg" alt="Rafael&#x27;s Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/rafaelszp.jpg" alt="Rafael&#x27;s Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Rafael SZP</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Estudos</a><a class="navbar__item navbar__link" href="/blog">Snippets</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/rafaelszp" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Meu GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Alterar entre os modos claro e escuro (modo modo claro ativado)" aria-label="Alterar entre os modos claro e escuro (modo modo claro ativado)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Buscar"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Buscar</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Volte para o topo" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/">Intro</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/aws/References/">AWS</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/aws/References/">References</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/aws/">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/aws/Computing/Articles/AWS Lambda - Visão geral">Computing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/aws/DevOps/articles/Code Pipeline - Visão geral">DevOps</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/aws/DevOps/articles/Code Pipeline - Visão geral">articles</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/aws/DevOps/articles/Code Pipeline - Visão geral">Code Pipeline - Visão geral</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/aws/Networking/Articles/AWS Cloudfront - Visão geral">Networking</a></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Página Inicial" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">AWS</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">DevOps</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">articles</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Code Pipeline - Visão geral</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Nessa página</button></div><div class="theme-doc-markdown markdown"><h1>Code Pipeline - Visão geral</h1>
<p>Created: 2024-07-03 08:17
Tags: #devops #codepipeline #aws</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="serve-para-quê">Serve para quê?<a href="#serve-para-quê" class="hash-link" aria-label="Link direto para Serve para quê?" title="Link direto para Serve para quê?">​</a></h2>
<p>O serviço da AWS Code Pipeline serve para orquestrar as diferentes etapas de uma pipeline de CI/CD. Uma pipeline é o fluxo que descreve como devem ser processadas as mudanças de um determinado software.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="quando-são-iniciadas">Quando são iniciadas?<a href="#quando-são-iniciadas" class="hash-link" aria-label="Link direto para Quando são iniciadas?" title="Link direto para Quando são iniciadas?">​</a></h2>
<p>As pipelines são disparadas quando há uma mudança no codigo, declaradas como Source. Quando isto acontece é criada uma <code>revision</code> que representa estas mudanças, para que sejam processadas pelas <code>Executions</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="componentes-de-uma-pipeline">Componentes de uma pipeline<a href="#componentes-de-uma-pipeline" class="hash-link" aria-label="Link direto para Componentes de uma pipeline" title="Link direto para Componentes de uma pipeline">​</a></h2>
<p>No Code Pipeline há basicamente 3 componentes básicos sendo:</p>
<ol>
<li>A Pipeline em si</li>
<li>Os Stages (estágios) para agrupar Actions que devem ser executadas em conjunto</li>
<li>Actions , que servem para definir como manipulamos os artefatos</li>
<li>Transitions, são as ligações entre Stages, sempre ocorrendo de forma ascendente, ou seja, do estágio anterior para o seguinte</li>
<li>Artifacts, que são os artefatos que são manipulados pelas actions</li>
<li>Variáveis</li>
<li>Triggers</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stages">Stages<a href="#stages" class="hash-link" aria-label="Link direto para Stages" title="Link direto para Stages">​</a></h3>
<p>Os Stages são conjuntos de actions que fazem sentido serem executadas de forma agrupada. Para que uma Stage seja executada, deve existir uma transition habilitada, proveniente de um Stage anterior.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="transitions">Transitions<a href="#transitions" class="hash-link" aria-label="Link direto para Transitions" title="Link direto para Transitions">​</a></h3>
<p>As Transitions são as transições entre estagios, sempre de forma ascendente. Estas podem ser desabilitadas, de forma que o próximo Stage não será executado enquanto não houver um &quot;TTL&quot;, de 30 dias, ou quando for reabilitada. Durante o período em que uma derminada transition estiver desabilitada, as Executions que estiverem em espera são chamadas de <strong>Inbound Executions</strong>.</p>
<p>É importante ressaltar que se uma transition permanecer desabilita por mais de 30 dias, o processo de retomada de execução é manual, de forma que a pipeline relacionada deve ser executada novamente.
### Actions</p>
<p>Actions são as ações, ou operações que ocorrem nos artefatos, que podem ser executadas tanto serialmente quanto paralalamente. Por exemplo, uma <code>build action</code> pode acionar o serviço (provider) CodeBuild para que os artefatos de entrada (input) sejam utilizados como fonte da compilação (build), gerando um artefato de saída que será utilizada em uma próxima Action, que pode estar dentro do mesmo Stage ou mesmo no subsequente.</p>
<p>As Actions podem ser dos seguintes tipos:</p>
<ul>
<li>Source</li>
<li>Build</li>
<li>Test</li>
<li>Deploy</li>
<li>Approval</li>
<li>Invoke</li>
<li>Personalizadas pelo operador</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="executions">Executions<a href="#executions" class="hash-link" aria-label="Link direto para Executions" title="Link direto para Executions">​</a></h2>
<p>As Executions são processos relacionados às operações realizadas nos componentes das pipelines, assim temos:</p>
<ul>
<li>Pipeline executions - corresponde a um conjunto de mudanças ocorridas na fonte (Source). Cada uma delas possui um identificador (ID). Suportam várias execuções em paralelo</li>
<li>Stage operations - embora não seja uma execution em si, mas classificada como operation, faz mais sentido tratar como uma execution. Estas correspondem aos processos de completar as execuções das Actions de um stage.</li>
<li>Action executions - Referem se ao processo de completar as operações que ocorrem dentro de um action.</li>
</ul>
<p>Abaixo segue uma tabela com o Status relacionados às executions de uma pipeline:</p>
<table><thead><tr><th>Nivel</th><th>Estados</th></tr></thead><tbody><tr><td>Pipeline execution</td><td><code>InProgress</code>, <code>Stopping</code>, <code>Stopped</code>, <code>Succeeded</code>, <code>Superseded</code>, e <code>Failed</code>.</td></tr><tr><td>Stage operations</td><td><code>InProgress</code>, <code>Stopping</code>, <code>Stopped</code>, <code>Succeeded</code>, e <code>Failed</code></td></tr><tr><td>Action executions</td><td><code>InProgress</code>, <code>Abandoned</code>, <code>Succeeded</code>, e <code>Failed</code></td></tr><tr><td></td><td></td></tr></tbody></table>
<p>Para os níveis de Pipeline e de Stage, temos 2 tipos de executions, a saber:</p>
<ul>
<li>Standard</li>
<li>Rolled back</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pipeline-executions">Pipeline Executions<a href="#pipeline-executions" class="hash-link" aria-label="Link direto para Pipeline Executions" title="Link direto para Pipeline Executions">​</a></h3>
<p>São operações que ocorrem em resposta às mudanças em um Source. Estas podem ser executadas paralelamente ou não. Quando uma Execution está esperando uma transition ser habilidada pra executar um próximo Stage é chamada de <code>Inbound Execution</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="stopped-executions">Stopped Executions<a href="#stopped-executions" class="hash-link" aria-label="Link direto para Stopped Executions" title="Link direto para Stopped Executions">​</a></h4>
<p>As executions podem ser paradas manualmente, a qualquer momento durante a execução de uma pipeline. Quando o processo de &quot;parada&quot; é executado, pode ser dos seguintes tipos:</p>
<ul>
<li><strong>Stop and wait</strong> - As actions que estiverem em execução não serão terminadas, de modo que a pipeline transita entre os estados de <code>Stopping</code> para <code>Stopped</code>. O processo de retry (tentar novamente) é possível</li>
<li><strong>Stop and Abandon</strong> - As actions em execução serão &quot;abandonadas&quot;, ou seja, terminadas, de modo que a pipeline transita entre os estados de <code>Abandoned</code> para <code>Stopped</code>.O processo de retry (tentar novamente) é possível</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="failed-executions">Failed Executions<a href="#failed-executions" class="hash-link" aria-label="Link direto para Failed Executions" title="Link direto para Failed Executions">​</a></h4>
<p>Quando uma execution não completa devido a algum problema, o estado é alterado para <code>Failed</code>, de modo que o processo de rollback é possível.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="execution-modes">Execution modes<a href="#execution-modes" class="hash-link" aria-label="Link direto para Execution modes" title="Link direto para Execution modes">​</a></h4>
<p>As executions tem 3 modos de operação, a saber:</p>
<ol>
<li><code>SUPERSEDED</code>, neste modo as executions serão substituídas pelas posteriores. Esse processo ocorrerá durante as transitions, de forma que os stages em execução não serão interrompidos, porém os susbsequentes terão execuções substituídas pelas mais recentes. Este é modo padrão das pipelines, ressaltando que haverá somente uma requisição por stage ao mesmo tempo.</li>
<li><code>QUEUED</code>, neste modo, disponível somente na versão 2 (V2) das pipelines, as execuções serão enfileiradas na ordem de criação.</li>
<li><code>PARALLEL</code>, neste modo, disponível somente na versão 2 (V2) das pipelines, não há espera, pois as executions operam em paralelo, sem interferirem entre si. Este modo é recomendado, por exemplo, para múltiplos ambientes de desenvolvimento em que é preciso testar várias alterações em paralelo.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="artifacts">Artifacts<a href="#artifacts" class="hash-link" aria-label="Link direto para Artifacts" title="Link direto para Artifacts">​</a></h3>
<p>São os arquivos que são manipulados pelas Actions, sendo que podem ser <code>input</code> ou <code>output</code> artifacts, definidos na etapa de criação da action. Durante a transição de artifacts entre actions o Code Pipeline precisa utilizar um bucket do <code>Amazon S3</code> para esta operação, isto implica custos de acesso e armazenamento do serviço S3.</p>
<p>Alguns exemplos de artifacts são:</p>
<ol>
<li>Source code</li>
<li>Dependencies</li>
<li>Definition files</li>
<li>Templates</li>
<li>Built applications and packages</li>
</ol>
<p>Além disto, é essencial que o bucket esteja na mesma região e conta da pipeline, caso não exista, o Code Pipeline criará automaticamente, sendo que a cada nova criação de pipeline, um bucket poderá ser criado para este fim caso não encontre um existente com um padrão de nomes pré-definidos, a saber: <code>code-pipeline-&lt;region&gt;-</code>, assim, caso um bucket com esse padrão de nomenclatura seja encontrado, este será utilizado em vez de criado um novo. Ressaltando que Cross-region pipelines terão este mesmo comportamento.</p>
<p>Ainda sobre a escolha automática do bucket baseda no padrão de nomenclatura, se houver mais de um bucket com nome de mesmo padrão, o Code Pipeline escolherá automaticamente o primeiro encontrado, ordenado lexicograficamente, ou seja, por ordem alfabética.</p>
<p>Também é possível definir via CLI, ou IaC (ex. Terraform) o nome do bucket que será utilizado para fazer o armazenamento de Artifacts, sendo possível também definir a forma de encriptação dos objetos.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="triggers">Triggers<a href="#triggers" class="hash-link" aria-label="Link direto para Triggers" title="Link direto para Triggers">​</a></h2>
<p>São gatilhos que são utilizados para dispararem uma pipeline, por exemplo, quando um evento Clouwatch está associado ao ARN de uma Pipeline, como event target rule, uma source code revision irá representar às mudanças relacionadas àquele evento e iniciará a pipeline.</p>
<p>Os gatilhos de execução podem ser:</p>
<ol>
<li>Manual, via console ou CLI, por exemplo</li>
<li>CloudWatch events, sendo que o ARN da pipeline será o target de uma event rule</li>
<li>Webhooks do GIT, na versão 2 (V2), para que serviços terceiros como Github ou Gitlab possam diparar pipelines</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="variables">Variables<a href="#variables" class="hash-link" aria-label="Link direto para Variables" title="Link direto para Variables">​</a></h2>
<p>As variáveis são muito úteis para deixar as pipelines mais dinâmicas, por exemplo, é possível definir parâmetros diferenciados por ambiente (produção, homologação).</p>
<p>As variáveis podem ser declaradas diretamente no nível de pipeline ou emitidas pelas actions. Sendo que as variáveis emitidas por actions são disponibilizadas logo após a execução com sucesso das mesmas.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="namespaces">Namespaces<a href="#namespaces" class="hash-link" aria-label="Link direto para Namespaces" title="Link direto para Namespaces">​</a></h3>
<p>As variáveis podem pertencer a escopos específicos, garantindo que elas serão unicamente referenciadas. Os namespaces são dos seguintes tipos:</p>
<ol>
<li><code>codepipeline</code> , ex.:<code>#{codepipeline.PipelineExecutionId}</code>. Neste caso são variáveis implícitas (reservadas) da pipeline em si, disponíveis no início de cada execution.</li>
<li><code>variables</code>, ex.: <code>#{variables.variable_name}</code>. Neste caso são variáveis que ficam no escopo da pipeline</li>
<li>Ex.: <code>#{SourceVariables.VersionId}</code>. Neste caso são variáveis definidas e produzidas na execução das actions, um namespace precisa ser definido neste escopo e não pode conflitar com outras variáveis da pipeline, aqui foi definido um namespace para a action referente ao CodeCommit que utiliza o namespace <code>SourceVariables</code>. Outro exemplo seria o CodeBuild que utiliza o namespace <code>BuildVariables</code> para produzir output variables</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="serviços-que-podem-ser-integrados">Serviços que podem ser integrados<a href="#serviços-que-podem-ser-integrados" class="hash-link" aria-label="Link direto para Serviços que podem ser integrados" title="Link direto para Serviços que podem ser integrados">​</a></h2>
<p>Durante a execução da pipeline é possível integrar-se a certos serviços da AWS, sendo possível também integrá-la a serviços terceiros, como por exemplo:</p>
<ol>
<li>Fontes de origem: Github, Gitlab, AWS Code Commit, Amazon S3, Outros serviços GIt via Webhooks V2</li>
<li>Compilação e construção de pacotes: AWS Code Build e Jenkins</li>
<li>Publicação: AWS Code Deploy</li>
<li>Notificações e eventos: AWS CloudWatch, AWS Event Bridge, Amazon SNS</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="boas-práticas-e-exemplo">Boas práticas e exemplo<a href="#boas-práticas-e-exemplo" class="hash-link" aria-label="Link direto para Boas práticas e exemplo" title="Link direto para Boas práticas e exemplo">​</a></h2>
<p>Ao estruturar uma pipeline é recomendável agrupar actions de uma revision em um mesmo Stage, desde que haja uma relação entre elas. Por exemplo, no processo de build as actions de <code>build</code> e <code>test</code> devem estar agrupados em um mesmo stage, para que os testes sejam executados relativos àquela revision.</p>
<p>Então, seguindo as recomendações da documentação oficial, um modelo básico de pipeline seria o seguinte:
<img decoding="async" loading="lazy" alt="100%" src="/assets/images/CodePipelineExample.excalidraw-6d77e0f9889693d91130a3a98683fecb.svg" title="wikilink" width="1402" height="674" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="versões-de-pipeline">Versões de pipeline<a href="#versões-de-pipeline" class="hash-link" aria-label="Link direto para Versões de pipeline" title="Link direto para Versões de pipeline">​</a></h2>
<p>O Code Pipeline possui 2 versões de pipeline, V1 e V2, sendo que é preferível utilizar a V2, pois expande quantidade de funcionalidades em relação à V1, além de ter um custo menor. Para ambas versões a estrutra é no formato JSON, contendo Stages e Actions parametrizadas.</p>
<p>Na versão 2, temos as seguintes funcionalidades a mais:</p>
<ol>
<li>Menor custo</li>
<li>Variáveis a nível de Pipeline</li>
<li>Modos de execução <code>QUEUED</code> e <code>PARALLEL</code></li>
<li>Possibilidade de fazer rollback em nível de Stage</li>
<li>Sobrescrita de Source Revision</li>
<li>Triggers, filtragens por: tags, GIT Pull Requests, GIT branches ou Path</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="como-é-a-aprovação-manual">Como é a aprovação manual?<a href="#como-é-a-aprovação-manual" class="hash-link" aria-label="Link direto para Como é a aprovação manual?" title="Link direto para Como é a aprovação manual?">​</a></h2>
<p>A aprovação manual nada menos é que uma Action do tipo (categoria) <code>Approval</code>. Conforme estrutura JSON abaixo:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: &quot;MyApprovalStage&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;actions&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;name&quot;: &quot;MyApprovalAction&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;actionTypeId&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;category&quot;: &quot;Approval&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;owner&quot;: &quot;AWS&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;version&quot;: &quot;1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;provider&quot;: &quot;Manual&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;inputArtifacts&quot;: [],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;outputArtifacts&quot;: [],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;configuration&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;NotificationArn&quot;: &quot;arn:aws:sns:us-east-2:80398EXAMPLE:MyApprovalTopic&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;ExternalEntityLink&quot;: &quot;http://example.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;CustomData&quot;: &quot;The latest changes include feedback from Bob.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;runOrder&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Com base na configuração acima percebemos os seguintes detalhes:</p>
<ul>
<li>O parâmetro <code>runOrder</code> define a sequência de execução das actions de um Stage</li>
<li>Existe um tópico SNS associado às notificações para os responsáveis (subscribers) pela aprovação da pipeline</li>
<li>Uma URL de revisão pode ser acrescentada, caso o aprovador queira visualizar a aplicação no ambiente de QA</li>
<li>É preciso que haja permissões para que a Code Pipeline grave no tópico em questão</li>
<li>É preciso que o aprovador tenha permissão para visualizar e realizar a aprovação</li>
<li>Enquanto a aprovação não ocorre, a pipeline execution não prossegue para os próximos passos, além disto a Action permanece no status <code>Waiting for approval</code></li>
<li>Caso não haja aprovação dentro de 7 dias, a pipeline transita para o status <code>Failed</code></li>
</ul>
<p>Abaixo segue um exemplo de tela de aprovação via console:
<img decoding="async" loading="lazy" alt="300" src="/assets/images/3f18c917ec72bc0d90440f8d80fa34afa85840b6-4a41d385e94cd6ce4799a165858e271f.png" title="wikilink" width="602" height="740" class="img_ev3q"></p>
<p>Caso a aprovação seja pelo CLI, um arquivo de JSON de aprovação<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup> deve ser enviado, conforme exemplo abaixo;</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;pipelineName&quot;: &quot;MyFirstPipeline&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;stageName&quot;: &quot;MyApprovalStage&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;actionName&quot;: &quot;MyApprovalAction&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;token&quot;: &quot;1a2b3c4d-573f-4ea7-a67E-XAMPLETOKEN&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;result&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;status&quot;: &quot;Approved&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;summary&quot;: &quot;The new design looks good. Ready to release to customers.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="monitoramento">Monitoramento<a href="#monitoramento" class="hash-link" aria-label="Link direto para Monitoramento" title="Link direto para Monitoramento">​</a></h2>
<p>Do ponto de vista de observabilidade, o Code Pipeline pode ser monitorado pelos seguintes meios:</p>
<ul>
<li>Via [Amazon Event Bridge](Amazon Event Bridge &quot;wikilink&quot;)</li>
<li>AWS Developer Tools console</li>
<li>AWS Cloudtrail</li>
<li>Console e CLI</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-bridge">Event Bridge<a href="#event-bridge" class="hash-link" aria-label="Link direto para Event Bridge" title="Link direto para Event Bridge">​</a></h3>
<p>O monitoramento pelo Event Bridge utiliza o mesmo mecanismo que o Cloudwatch na camada inferior de serviços da AWS, porém possui uma gama maior de funcionalidades do ponto de vista de orquestração de eventos.</p>
<p>Assim, para o monitoramento das pipelines os eventos capturados serão os referentes à mudança de estado nos componentes a saber:</p>
<ul>
<li>Pipelines</li>
<li>Stages</li>
<li>Actions</li>
</ul>
<p>Quando um evento for capturado, ele será enviado para targets específicos, podendo ser:</p>
<ul>
<li>Lambda Function</li>
<li>AWS SNS</li>
<li>Outros serviços compatíveis com Event Bridge</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mas-o-que-são-eventos">Mas o que são Eventos?<a href="#mas-o-que-são-eventos" class="hash-link" aria-label="Link direto para Mas o que são Eventos?" title="Link direto para Mas o que são Eventos?">​</a></h4>
<p>Do ponto de vista do Code Pipeline, são um conjunto de rules (regras) referentes às mudanças de estado da pipeline. Diante disto, podemos fazer a seguinte relação:</p>
<ul>
<li>Eventos são um conjunto de <code>Rules</code></li>
<li>As Rules são compostas de:</li>
<li><code>Event pattern</code>, representando o Source e o Type dos eventos a monitorar. De modo que, o Code Pipeline seria o Source, enquanto o Type representa o tipo de mudança que deve ser capturado (Stage, Action, Pipeline)</li>
<li><code>Target</code>, representa o canal de notificação, que pode, por exemplo um tópico do AWS SNS. Além disto, a notificação é realizada com sucesso mediante a permissão de <code>Invoke</code> no serviço destino</li>
</ul>
<p>Recaptulando, os eventos são disparados na mudança de estados de um dos seguintes tipos (Types):</p>
<ul>
<li>Pipeline Executions <sup><a href="#user-content-fn-2" id="user-content-fnref-2" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup></li>
<li>Stage Executions<sup><a href="#user-content-fn-3" id="user-content-fnref-3" data-footnote-ref="true" aria-describedby="footnote-label">3</a></sup></li>
<li>Action Executions <sup><a href="#user-content-fn-4" id="user-content-fnref-4" data-footnote-ref="true" aria-describedby="footnote-label">4</a></sup></li>
</ul>
<p>Sendo que cada um destes tipos possui seu conjunto de estados que podem ser monitorados.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="detail-type">Detail type<a href="#detail-type" class="hash-link" aria-label="Link direto para Detail type" title="Link direto para Detail type">​</a></h3>
<p>É o atributo que define quais tipos de mudança de estados serão monitoradas, sendo que para cada um deles é possível monitorar somente em pipelines específicas ou em todas.</p>
<p>Abaixo segue um exemplo da configuração JSON referente a um determinado evento de mudança de estado de uma Stage Execution:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;version&quot;: &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;id&quot;: &quot;01234567-EXAMPLE&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;detail-type&quot;: &quot;CodePipeline Stage Execution State Change&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;source&quot;: &quot;aws.codepipeline&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;account&quot;: 123456789012,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;time&quot;: &quot;2020-01-24T22:03:07Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;region&quot;: &quot;us-east-1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;resources&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;arn:aws:codepipeline:us-east-1:123456789012:myPipeline&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;detail&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;pipeline&quot;: &quot;myPipeline&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;version&quot;: 1.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;execution-id&quot;: &quot;12345678-1234-5678-abcd-12345678abcd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;start-time&quot;: &quot;2023-10-26T13:49:39.208Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;stage&quot;: &quot;Prod&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;state&quot;: &quot;STARTED&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;pipeline-execution-attempt&quot;: 1.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="developer-tools">Developer Tools<a href="#developer-tools" class="hash-link" aria-label="Link direto para Developer Tools" title="Link direto para Developer Tools">​</a></h3>
<p>O Developer Tools Console <sup><a href="#user-content-fn-5" id="user-content-fnref-5" data-footnote-ref="true" aria-describedby="footnote-label">5</a></sup> É um conjunto de serviços da AWS para auxiliar no desenvolvimento.</p>
<p>O monitoramento pelo Developer Tools ocorre por meio de subscrição no tópico SNS referente aos eventos emitidos pelas pipelines.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cloudtrail">Cloudtrail<a href="#cloudtrail" class="hash-link" aria-label="Link direto para Cloudtrail" title="Link direto para Cloudtrail">​</a></h3>
<p>O Serviço AWS CloudTrail pode ser utilizado para realizar o monitoramento, porém é necessário que haja um bucket é requerido para que os logs sejam armazenados (despejados). Caso não haja o bucket, será utilizado um <code>placeholder bucket</code> para despejo dos logs.</p>
<p>Se a estratégia do placeholder bucket for utilizada, não será possível acessar dados dos logs, somente se for definido um bucket personalizado para despejo dos logs.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Link direto para References" title="Link direto para References">​</a></h2>
<ol>
<li>Code Pipeline - Visão Geral - Literature notes (personal Obsidian vault)</li>
<li><a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/welcome.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/codepipeline/latest/userguide/welcome.html</a></li>
<li><a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/action-types.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/codepipeline/latest/userguide/action-types.html</a></li>
<li><a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/reference-variables.html#reference-variables-concepts" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/codepipeline/latest/userguide/reference-variables.html#reference-variables-concepts</a></li>
<li><a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/concepts-how-it-works.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/codepipeline/latest/userguide/concepts-how-it-works.html</a></li>
<li><a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/approvals-json-format.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/codepipeline/latest/userguide/approvals-json-format.html</a></li>
</ol>
<!-- -->
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_LWe7 sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Link direto para Footnotes" title="Link direto para Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-1">
<p>JSON Structure for manual approval: <a href="https://docs.aws.amazon.com/codepipeline/latest/usergu2de/approvals-json-format.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/codepipeline/latest/usergu2de/approvals-json-format.html</a> <a href="#user-content-fnref-1" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-2">
<p><a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/detect-state-changes-cloudwatch-events.html#detect-state-events-pipeline" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/codepipeline/latest/userguide/detect-state-changes-cloudwatch-events.html#detect-state-events-pipeline</a> <a href="#user-content-fnref-2" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-3">
<p><a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/detect-state-changes-cloudwatch-events.html#detect-state-events-stage" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/codepipeline/latest/userguide/detect-state-changes-cloudwatch-events.html#detect-state-events-stage</a> <a href="#user-content-fnref-3" data-footnote-backref="" aria-label="Back to reference 3" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-4">
<p><a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/detect-state-changes-cloudwatch-events.html#detect-state-events-action" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/codepipeline/latest/userguide/detect-state-changes-cloudwatch-events.html#detect-state-events-action</a> <a href="#user-content-fnref-4" data-footnote-backref="" aria-label="Back to reference 4" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-5">
<p>Developer tools console: <a href="https://docs.aws.amazon.com/pt_br/dtconsole/latest/userguide/what-is-dtconsole.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/pt_br/dtconsole/latest/userguide/what-is-dtconsole.html</a> <a href="#user-content-fnref-5" data-footnote-backref="" aria-label="Back to reference 5" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/rafaelszp/rafaelszp.github.io/tree/main/packages/create-docusaurus/templates/shared/docs/aws/DevOps/articles/Code Pipeline - Visão geral.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Editar essa página</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Páginas de documentação"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/aws/Computing/Articles/ECS Fargate Deployment"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">ECS Fargate Container Deployment</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/aws/Networking/Articles/AWS Cloudfront - Visão geral"><div class="pagination-nav__sublabel">Próxima</div><div class="pagination-nav__label">AWS CloudFront - Visão Geral</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#serve-para-quê" class="table-of-contents__link toc-highlight">Serve para quê?</a></li><li><a href="#quando-são-iniciadas" class="table-of-contents__link toc-highlight">Quando são iniciadas?</a></li><li><a href="#componentes-de-uma-pipeline" class="table-of-contents__link toc-highlight">Componentes de uma pipeline</a><ul><li><a href="#stages" class="table-of-contents__link toc-highlight">Stages</a></li><li><a href="#transitions" class="table-of-contents__link toc-highlight">Transitions</a></li></ul></li><li><a href="#executions" class="table-of-contents__link toc-highlight">Executions</a><ul><li><a href="#pipeline-executions" class="table-of-contents__link toc-highlight">Pipeline Executions</a></li><li><a href="#artifacts" class="table-of-contents__link toc-highlight">Artifacts</a></li></ul></li><li><a href="#triggers" class="table-of-contents__link toc-highlight">Triggers</a></li><li><a href="#variables" class="table-of-contents__link toc-highlight">Variables</a><ul><li><a href="#namespaces" class="table-of-contents__link toc-highlight">Namespaces</a></li></ul></li><li><a href="#serviços-que-podem-ser-integrados" class="table-of-contents__link toc-highlight">Serviços que podem ser integrados</a></li><li><a href="#boas-práticas-e-exemplo" class="table-of-contents__link toc-highlight">Boas práticas e exemplo</a></li><li><a href="#versões-de-pipeline" class="table-of-contents__link toc-highlight">Versões de pipeline</a></li><li><a href="#como-é-a-aprovação-manual" class="table-of-contents__link toc-highlight">Como é a aprovação manual?</a></li><li><a href="#monitoramento" class="table-of-contents__link toc-highlight">Monitoramento</a><ul><li><a href="#event-bridge" class="table-of-contents__link toc-highlight">Event Bridge</a></li><li><a href="#detail-type" class="table-of-contents__link toc-highlight">Detail type</a></li><li><a href="#developer-tools" class="table-of-contents__link toc-highlight">Developer Tools</a></li><li><a href="#cloudtrail" class="table-of-contents__link toc-highlight">Cloudtrail</a></li></ul></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Studies</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://rafaelszp.wordpress.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">My Legacy Wordpress Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/szp_rafael" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://br.linkedin.com/in/rafaelszp" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linked In<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Snippets</a></li><li class="footer__item"><a href="https://github.com/rafaelszp/rafaelszp.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Rafael Pereira, Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>