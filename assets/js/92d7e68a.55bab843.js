"use strict";(self.webpackChunkrafaelszp_github_io=self.webpackChunkrafaelszp_github_io||[]).push([[7817],{4100:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var a=n(4848),r=n(8453);const s={title:"Searching AD Users with ldapsearch command",date:"2021-01-28",categories:["linux"]},i=void 0,l={permalink:"/blog/2021/01/28/2021/01/searching-ad-users-with-ldapsearch-command",editUrl:"https://github.com/rafaelszp/rafaelszp.github.io/tree/master/blog/blog/2021/01/2021-01-28-searching-ad-users-with-ldapsearch-command/index.md",source:"@site/blog/2021/01/2021-01-28-searching-ad-users-with-ldapsearch-command/index.md",title:"Searching AD Users with ldapsearch command",description:"Without TLS",date:"2021-01-28T00:00:00.000Z",tags:[],readingTime:.44,hasTruncateMarker:!1,authors:[],frontMatter:{title:"Searching AD Users with ldapsearch command",date:"2021-01-28",categories:["linux"]},unlisted:!1,prevItem:{title:"Disabling Keycloak theme cache through CLI (standalone mode)",permalink:"/blog/2021/02/09/2021/02/disabling-keycloak-theme-cache-through-cli-standalone-mode"},nextItem:{title:"Fixing autoswitch profile to wrong one with pulseaudio in Arch/Manjaro",permalink:"/blog/2020/12/02/2020/12/fixing-autoswitch-profile-to-wrong-one-with-pulseaudio-in-arch-manjaro"}},o={authorsImageUrls:[]},c=[{value:"Without TLS",id:"without-tls",level:3},{value:"With TLS",id:"with-tls",level:3},{value:"Update",id:"update",level:3}];function d(e){const t={a:"a",code:"code",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h3,{id:"without-tls",children:"Without TLS"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'ldapsearch -D "CN=myuser,CN=Users,DC=example,DC=net" -w mypassword -H "ldap://myserver.example.com:389" -b "OU=mycompany,CN=Users,DC=example,DC=net" -s sub "CN=myuser"\n'})}),"\n",(0,a.jsx)(t.h3,{id:"with-tls",children:"With TLS"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'ldapsearch -D "CN=myuser,CN=Users,DC=example,DC=net" -w mypassword -H "ldaps://myserver.example.com:636" -b "OU=mycompany,CN=Users,DC=example,DC=net" -Z -s sub "CN=myuser"\n'})}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Reference:"})," ",(0,a.jsx)(t.a,{href:"https://linux.die.net/man/1/ldapsearch",children:"https://linux.die.net/man/1/ldapsearch"})]}),"\n",(0,a.jsx)(t.h3,{id:"update",children:"Update"}),"\n",(0,a.jsx)(t.p,{children:"If ldapsearch return the following error:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"ldap_start_tls: Can't contact LDAP server (-1)\n\tadditional info: error:1416F086:SSL routines:tls_process_server_certificate:certificate verify failed (unable to get local issuer certificate)\nldap_sasl_bind(SIMPLE): Can't contact LDAP server (-1)\n\n"})}),"\n",(0,a.jsxs)(t.p,{children:["Then edit ",(0,a.jsx)(t.code,{children:"/etc/openldap/ldap.conf"})," or ",(0,a.jsx)(t.code,{children:"/etc/ldap/ldap.conf"})," and add these lines:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"HOST myserver.example.com\nPORT 636\nTLS_REQCERT never\n"})})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>l});var a=n(6540);const r={},s=a.createContext(r);function i(e){const t=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(s.Provider,{value:t},e.children)}}}]);